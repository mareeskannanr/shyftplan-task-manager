<!DOCTYPE html>
<html lang="en-UK">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link rel="shortcut icon" href="https://shyftplan.com/icons/icon-512x512.png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <title>Task Manager</title>
    <style type="text/css">
        html, body {
            height: 100%;
            background: #686767
        }

        .container {
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .login-form {
            width: 375px;
            margin: 50px auto;
        }
        
        .login-form form {
            background: #f7f7f7;
            box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);
            padding: 30px;
        }
        
        .login-form h2 {
            margin: 0 0 15px;
        }

        .form-control, .btn {
            min-height: 38px;
            border-radius: 2px;
        }

        .btn {        
            font-size: 15px;
            font-weight: bold;
        }

        p {
            margin-top: 20px; 
        }
    </style>
</head>
<body>
    <div class="container">
        <% if(type === 'login') { %>
            <div class="login-form">
                <form action="/api/login" method="post">
                    <h2 class="text-center">
                        <img src="https://shyftplan.com/icons/icon-512x512.png" height="30" width="30" alt="Log In" >
                    </h2>       
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><span class="fas fa-envelope"></span></span>
                            </div>
                            <input type="email" class="form-control" placeholder="Enter Email" name="email" required="required">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><span class="fas fa-key"></span></span>
                            </div>
                            <input type="password" class="form-control" placeholder="Enter Password" name="password" required="required">
                        </div>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-block">
                            <span class="fas fa-sign-in-alt"></span> Log in
                        </button>
                    </div> 
                    <p class="text-center">
                        <a href="/signup">
                            <span class="fas fa-user-plus"></span> Sign Up
                        </a>
                    </p>
                    <% if(errors) { %>
                        <div class="alert alert-danger">
                            <span><b><%= errors %></b></span>
                        </div>
                    <% } %>     
                    <% if(successMsg) { %>
                        <div class="alert alert-success">
                            <span><b><%= successMsg %></b></span><br>
                        </div>
                    <% } %>
                </form>
            </div>                    		                            
        <% } else { %>
            <div class="login-form">
                <form action="/api/signup" method="post">
                    <h2 class="text-center">
                        <img src="https://shyftplan.com/icons/icon-512x512.png" height="30" width="30" alt="Sign Up" >
                    </h2>       
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><span class="fas fa-user"></span></span>
                            </div>
                            <input type="text" class="form-control" placeholder="Enter User Name" name="userName" required>
                        </div>
                    </div>       
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><span class="fas fa-envelope"></span></span>
                            </div>
                            <input type="email" class="form-control" placeholder="Enter Email" name="email" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><span class="fas fa-key"></span></span>
                            </div>
                            <input type="password" class="form-control" placeholder="Enter Password" name="password" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><span class="fas fa-key"></span></span>
                            </div>
                            <input type="password" class="form-control" placeholder="Enter Confirm Password" name="confirmPassword" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-block">
                            <span class="fas fa-user-plus"></span> Create Account
                        </button>
                    </div>
                    <p class="text-center">
                        <a href="/login">
                            <span class="fas fa-sign-in-alt"></span> Already Have Account?
                        </a>
                    </p>
                    <% if(errors.length > 0) { %>
                        <div class="alert alert-danger">
                            <% for(let i=0, length=errors.length; i < length; i++) { %>
                                <span><b><%= errors[i] %></b></span><br>
                            <% } %>
                        </div>
                    <% } %>    
                    <% if(successMsg) { %>
                        <div class="alert alert-success">
                            <span><b><%= successMsg %></b></span><br>
                        </div>
                    <% } %>
                </form>
            </div>
       <% } %>     
    </div>
</body>    
</html>