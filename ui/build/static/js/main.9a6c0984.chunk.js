(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){e.exports=a(78)},44:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(9),l=a.n(r),c=(a(44),a(13)),m=a(14),o=a(17),i=a(15),u=a(18),d=function(e){return s.a.createElement("nav",{className:"navbar navbar-expand-sm bg-light navbar-light justify-content-end"},s.a.createElement("a",{className:"navbar-brand"},s.a.createElement("img",{src:"images/shyftplan.png",width:"150px"})),s.a.createElement("div",{className:"ml-auto"},s.a.createElement("div",{className:"nav-item dropdown"},s.a.createElement("a",{className:"nav-link dropdown-toggle","data-toggle":"dropdown"},s.a.createElement("b",null,s.a.createElement("span",{className:"fas fa-2x fa-user"})," ",e.userName)," ",s.a.createElement("b",{className:"fas fa-caret"})),s.a.createElement("div",{className:"dropdown-menu",style:{width:"100%"}},s.a.createElement("a",{className:"dropdown-item",href:"/logout"},s.a.createElement("b",null,s.a.createElement("i",{className:"fas fa-sign-out-alt"})," Logout"))))))},p=function(e){return s.a.createElement("div",{className:"row",style:{marginTop:"10vh"}},s.a.createElement("div",{className:"col my-auto"},s.a.createElement("div",{className:"mx-auto"},e.data?s.a.createElement("h3",{className:"text-danger"},e.data):s.a.createElement("h3",{className:"text-info"},"Your Task List is emplty!"))))},E=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).headerArray=["Start Time","End Time","Description"],a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"formatDateTime",value:function(e){var t=(e=new Date(e)).getHours(),a=e.getMinutes(),n=t>=12?"pm":"am",s=(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+n;return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()+"  "+s}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("table",{className:"table table-striped"},s.a.createElement("thead",{className:"table-dark"},s.a.createElement("tr",null,this.headerArray.map(function(e){return s.a.createElement("th",{key:e},e)}))),s.a.createElement("tbody",null,this.props.tasks.map(function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,e.formatDateTime(t.start_time)),s.a.createElement("td",null,e.formatDateTime(t.end_time)),s.a.createElement("td",null,t.description))})))))}}]),t}(n.Component),h=a(12),f=a(83),v=a(80),g=a(81),b=a(82),k=a(23),N=(a(51),a(37)),T=a.n(N).a.create({baseURL:""}),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={task:{description:"",startTime:null,assignedTo:"",endTime:null},success:!1,taskValid:!1,timeInvalid:!1,usersArray:[]},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;T.get("/api/users").then(function(t){return e.setState({usersArray:t.data})}).catch(function(e){console.error(e.response.data)})}},{key:"taskOnChange",value:function(e,t){var a=Object(h.a)({},this.state.task);a[e]=t;var n=a.description&&a.startTime&&a.endTime&&a.assignedTo,s=a.startTime&&a.endTime&&new Date(a.startTime).getTime()>new Date(a.endTime).getTime();n=n&&!s,this.setState({task:a,taskValid:n,timeInvalid:s})}},{key:"saveTask",value:function(){var e=this;console.log(this.state.task),T.post("/api/tasks",this.state.task).then(function(t){console.log(t),e.setState({success:!0}),setTimeout(e.props.closeModal.bind(e),1500)}).catch(function(t){console.error(t),e.props.closeModal(t.response.data)})}},{key:"render",value:function(){var e=this;return s.a.createElement(f.a,{isOpen:!0},s.a.createElement(v.a,null,!this.state.success&&s.a.createElement("span",null,s.a.createElement("span",{className:"fas fa-tasks"})," Add Task"),this.state.success&&s.a.createElement("span",null,s.a.createElement("span",{className:"fas fa-thumbs-up"})," Success")),s.a.createElement(g.a,null,this.state.success&&s.a.createElement("div",{className:"col"},s.a.createElement("h5",{className:"text-success"},"Task Created Successfully!")),!this.state.success&&s.a.createElement("div",null,s.a.createElement("div",{className:"col form-group"},s.a.createElement("label",null,s.a.createElement("b",null,"Start Time")),s.a.createElement("br",null),s.a.createElement(k.a,{selected:this.state.task.startTime,onChange:function(t){return e.taskOnChange("startTime",t)},showTimeSelect:!0,className:"form-control",dateFormat:"Pp",required:!0})),s.a.createElement("div",{className:"col form-group"},s.a.createElement("label",null,s.a.createElement("b",null,"End Time")),s.a.createElement("br",null),s.a.createElement(k.a,{selected:this.state.task.endTime,onChange:function(t){return e.taskOnChange("endTime",t)},showTimeSelect:!0,className:"form-control",dateFormat:"Pp",required:!0}),this.state.timeInvalid&&s.a.createElement("small",{className:"text-danger"},s.a.createElement("br",null),"End Time must be greater than Start Time")),s.a.createElement("div",{className:"col form-group"},s.a.createElement("label",null,s.a.createElement("b",null,"Description")),s.a.createElement("textarea",{className:"form-control",value:this.state.task.description,onChange:function(t){return e.taskOnChange("description",t.target.value)},required:!0})),s.a.createElement("div",{className:"col form-group"},s.a.createElement("label",null,s.a.createElement("b",null,"Assigned To")),s.a.createElement("select",{className:"form-control",value:this.state.task.assignedTo,onChange:function(t){return e.taskOnChange("assignedTo",t.target.value)},required:!0},s.a.createElement("option",null),this.state.usersArray.map(function(e,t){return s.a.createElement("option",{key:t,value:e.id},e.email)}))))),s.a.createElement(b.a,null,!this.state.success&&s.a.createElement("div",{className:"col-12 text-center"},s.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){return e.saveTask()},disabled:!this.state.taskValid},s.a.createElement("span",{className:"fas fa-save"})," Add"),"\xa0\xa0",s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.props.closeModal()}},s.a.createElement("span",{className:"fas fa-times"})," Close"))))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={tasks:[],open:!1,error:"",userName:""},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getAllTasks(),this.getUserName()}},{key:"getUserName",value:function(){var e=this;T.get("/api/userName").then(function(t){return e.setState({userName:t.data.userName})})}},{key:"getAllTasks",value:function(){var e=this;T.get("/api/tasks").then(function(t){return e.setState({tasks:t.data,open:!1})})}},{key:"closeModal",value:function(e){e?this.setState({error:e,open:!1}):this.getAllTasks()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12",style:{marginBottom:"10px",marginTop:"5px"}},s.a.createElement(d,{userName:this.state.userName})),s.a.createElement("div",{className:"col-12",style:{marginTop:"20px"}},s.a.createElement("div",{className:"alert alert-dark",role:"alert"},s.a.createElement("h2",null,s.a.createElement("span",null,s.a.createElement("span",{className:"fas fa-list"})," Task Manager"),s.a.createElement("button",{type:"button",className:"btn btn-success float-right",onClick:function(){return e.setState({open:!0})}},s.a.createElement("span",{className:"fas fa-plus"})," Task")))),s.a.createElement("div",{className:"col-12 text-center",style:{marginTop:"15px"}},this.state.error?s.a.createElement(p,{data:this.state.error}):this.state.tasks&&this.state.tasks.length>0?s.a.createElement(E,{tasks:this.state.tasks}):s.a.createElement(p,{data:""})),this.state.open?s.a.createElement(y,{closeModal:function(t,a){return e.closeModal(t,a)}}):"")}}]),t}(n.Component);l.a.render(s.a.createElement(w,null),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.9a6c0984.chunk.js.map